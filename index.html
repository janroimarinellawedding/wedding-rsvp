<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wedding RSVP - Janroi & Marinella</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600&family=Great+Vibes&family=Inter:wght@300;400;500&display=swap');
        
        .font-serif {font-family: Great Vibes, Cormorant Garamond !important;}
        .font-sans { font-family: cursive, sans-serif, Cormorant Garamond !important; }
        
        .bg-nature {
            background: linear-gradient(135deg, #f7f8f3 0%, #e8f5e8 50%, #f0f4f0 100%);
        }
        
        .text-sage { color: #87a96b; }
        .text-earth { color: #8b7355; }
        .bg-sage { background-color: #87a96b; }
        .bg-sage-light { background-color: #f4f7f0; }
        .border-sage { border-color: #87a96b; }
        
        .leaf-decoration {
            position: relative;
        }
        
        .leaf-decoration::before,
        .leaf-decoration::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%2387a96b'%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10c1.19 0 2.34-.21 3.41-.6.3-.11.49-.4.49-.72 0-.43-.35-.78-.78-.78-.28 0-.53.15-.67.38-.8.28-1.65.42-2.45.42-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6c0 .8-.14 1.65-.42 2.45-.23.14-.38.39-.38.67 0 .43.35.78.78.78.32 0 .61-.19.72-.49.39-1.07.6-2.22.6-3.41C22 6.48 17.52 2 12 2z'/%3E%3C/svg%3E") no-repeat center;
            background-size: contain;
        }
        
        .leaf-decoration::before {
            left: 3px;
            top: 50%;
            transform: translateY(-50%) rotate(-15deg);
        }
        
        .leaf-decoration::after {
            right: -1px;
            top: 50%;
            transform: translateY(-50%) rotate(15deg);
        }
        
        .botanical-border {
            border: 2px solid transparent;
            background: linear-gradient(white, white) padding-box,
                       linear-gradient(45deg, #87a96b, #a8c686, #87a96b) border-box;
        }
        
        .nature-shadow {
            box-shadow: 0 10px 25px rgba(135, 169, 107, 0.1);
        }
        
        .fade-in {
            animation: fadeIn 0.8s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .hover-lift {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .hover-lift:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 35px rgba(135, 169, 107, 0.15);
        }

        /* Picture frame for header logo */
        .picture-frame {
            border: 4px solid rgba(135,169,107,0.18);
            border-radius: 12px;
            background: linear-gradient(white, white) padding-box,
                        linear-gradient(45deg, #87a96b22, #a8c68622) border-box;
            overflow: hidden;
            transition: box-shadow 0.2s ease, transform 0.15s ease;
            max-width: 100%;
            display: flex;
        }

        .picture-frame img {
            display: block;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .picture-frame.placeholder {
            min-height: 90px;
            padding: 14px;
        }
        @media (min-width: 1024px) {
        .lg\:text-6xl {
        font-size: 4.75rem !important;
        line-height: 1;
        }}
    </style>
</head>
<body class="bg-nature min-h-screen font-sans">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 max-w-3xl">
        
        <!-- Header -->
        <div class="text-center mb-12 sm:mb-16 fade-in">
            <!-- Botanical Header Decoration -->
            <div class="flex justify-center items-center mb-6">
                <!-- Picture frame logo sized to match the header text width -->
                <div id="headerLogoWrap" class="flex justify-center items-center mb-6">
                    <div id="pictureFrame" class="picture-frame overflow-hidden bg-sage-light/30 flex items-center justify-center">
                        <img id="headerLogoImg" src="marin2.jpg" alt="Janroi & Marinella"
                             onerror="this.style.display='none'; document.getElementById('placeholderFrame').style.display='flex';">
                    </div>
                    <div id="placeholderFrame" class="picture-frame placeholder hidden items-center justify-center">
                        <span class="text-earth font-medium" style="font-size: 90px;">Jan Roi & Marinella</span>
                    </div>
                </div>
            </div>
            
            <h1 class="font-serif text-4xl sm:text-5xl lg:text-6xl font-light text-earth mb-3">
                Jan Roi <span class="text-sage">&</span> Marinella
            </h1>
            
            <div class="w-24 h-px bg-sage mx-auto mb-4"></div>
            
            <p class="text-earth text-lg sm:text-xl font-light mb-2 font-sans">December 13th, 2025</p>
            <p class="text-gray-600 text-sm sm:text-base font-sans">Basilica of St Michael the Archangel, Tayabas City</p>
        </div>

        <!-- Main RSVP Card -->
        <div class="bg-white rounded-2xl nature-shadow p-6 sm:p-8 lg:p-10 mb-8 sm:mb-12 fade-in hover-lift">
            <div class="text-center mb-8">
                <h2 class="font-serif text-2xl sm:text-3xl font-medium text-earth mb-4 leaf-decoration">
                    Your Presence is Requested
                </h2>
                <p class="text-gray-600 text-sm sm:text-base leading-relaxed max-w-md mx-auto font-sans">
                    We would be honored to have you celebrate this special moment with us
                </p>
                <p class="text-sage text-xs sm:text-sm mt-3 font-medium font-sans">
                    Please respond by December 1, 2025
                </p>
            </div>

            <form id="rsvpForm" class="space-y-6 font-sans">
                <!-- Name Fields -->
                <div class="grid sm:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-earth font-medium mb-2 text-sm">First Name</label>
                        <input type="text" id="firstName" name="firstName" required 
                               class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-sage focus:border-transparent transition-all bg-sage-light/30">
                    </div>
                    <div>
                        <label class="block text-earth font-medium mb-2 text-sm">Last Name</label>
                        <input type="text" id="lastName" name="lastName" required 
                               class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-sage focus:border-transparent transition-all bg-sage-light/30">
                    </div>
                </div>

                <!-- Email -->
                <div>
                    <label class="block text-earth font-medium mb-2 text-sm">Email Address</label>
                    <input type="email" id="email" name="email" 
                           class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-sage focus:border-transparent transition-all bg-sage-light/30">
                </div>

                <!-- Attendance -->
                <div>
                    <label class="block text-earth font-medium mb-4 text-sm">Will you be joining us?</label>
                    <div class="space-y-3">
                        <label class="flex items-center cursor-pointer p-4 bg-sage-light/20 rounded-xl hover:bg-sage-light/40 transition-colors">
                            <input type="radio" name="attendance" value="yes" required class="w-4 h-4 text-sage focus:ring-sage">
                            <span class="ml-3 text-earth text-sm">Yes, we'll be there to celebrate with you</span>
                        </label>
                        <label class="flex items-center cursor-pointer p-4 bg-sage-light/20 rounded-xl hover:bg-sage-light/40 transition-colors">
                            <input type="radio" name="attendance" value="no" required class="w-4 h-4 text-sage focus:ring-sage">
                            <span class="ml-3 text-earth text-sm">Unfortunately, we cannot attend</span>
                        </label>
                    </div>
                </div>

                <!-- Guest Count -->
                <div id="guestSection" class="hidden">
                    <label class="block text-earth font-medium mb-2 text-sm">Number of Guests</label>
                    <select id="guestCount" name="guestCount" class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-sage focus:border-transparent transition-all bg-sage-light/30">
                        <option name="guestCount" value="1">1 Guest</option>
                        <option name="guestCount" value="2">2 Guests</option>
                    </select>
                </div>

                <!-- Special Message -->
                <div>
                    <label class="block text-earth font-medium mb-2 text-sm">A Note for the Couple (Optional)</label>
                    <textarea id="message" rows="4" name="message"
                              placeholder="Share your thoughts, wishes, or any special message..."
                              class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-sage focus:border-transparent transition-all resize-none bg-sage-light/30"></textarea>
                </div>

                <!-- Submit Button -->
                <button type="submit" class="w-full bg-sage text-white font-medium py-4 px-6 rounded-xl hover:bg-sage/90 transform hover:scale-[1.02] transition-all duration-200 nature-shadow font-sans">
                    Send Response
                </button>
            </form>
        </div>

        <!-- Wedding Details -->
        <div class="grid sm:grid-cols-2 gap-6 mb-8 sm:mb-12">
            <!-- Ceremony -->
            <div class="bg-white rounded-2xl nature-shadow p-6 text-center fade-in hover-lift">
                <div class="w-12 h-12 bg-sage-light rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-6 h-6 text-sage" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2L8 8h8l-4-6z"/>
                        <path d="M8 8v12h8V8H8z"/>
                    </svg>
                </div>
                <h3 class="font-serif text-xl font-medium text-earth mb-2">Ceremony</h3>
                <p class="text-gray-600 text-sm mb-1 font-sans">9:00 AM</p>
                <p class="text-gray-600 text-sm leading-relaxed font-sans">Basilica of St Michael the Archangel</p>
                <p class="text-gray-600 text-sm font-sans">Tayabas City</p>
            </div>

            <!-- Reception -->
            <div class="bg-white rounded-2xl nature-shadow p-6 text-center fade-in hover-lift">
                <div class="w-12 h-12 bg-sage-light rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-6 h-6 text-sage" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                </div>
                <h3 class="font-serif text-xl font-medium text-earth mb-2">Reception</h3>
                <p class="text-gray-600 text-sm mb-1">12:00 NN</p>
                <p class="text-gray-600 text-sm">Kamayan sa Palaisdaan - Air Summit</p>
                <p class="text-gray-600 text-sm">Island Pavillion</p>
                <p class="text-gray-600 text-sm">Tayabas Quezon</p>
            </div>
        </div>

        <!-- Dress Code -->
        <div class="bg-white rounded-2xl nature-shadow p-6 sm:p-8 text-center mb-8 fade-in hover-lift">
            <div class="w-12 h-12 bg-sage-light rounded-full flex items-center justify-center mx-auto mb-4">
                <svg class="w-6 h-6 text-sage" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
            </div>
            <h3 class="font-serif text-xl font-medium text-earth mb-3">Attire</h3>
            <p class="text-gray-600 text-sm mb-2">Nature-Inspired Palette</p>
            <div class="flex justify-center items-center space-x-4 mb-2">
                <div class="w-6 h-6 bg-sage rounded-full"></div>
                <div class="w-6 h-6 rounded-full" style="background-color: #c4a484;"></div>
                <div class="w-6 h-6 rounded-full" style="background-color: #d4b896;"></div>
            </div>
            <p class="text-gray-600 text-xs">Sage green and nude brown tones welcomed</p>
        </div>

        <!-- Contact -->
        <div class="text-center text-gray-600 text-sm fade-in">
            <div class="w-16 h-px bg-sage mx-auto mb-4"></div>
            <p class="mb-1">Questions? Reach out to us</p>
            <p class="text-sage font-medium">janroi.marinella.wedding@gmail.com</p>
            <p class="text-sage font-medium">09694614780</p>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="fixed inset-0 bg-black bg-opacity-40 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl p-8 max-w-sm w-full text-center nature-shadow">
            <div class="w-16 h-16 bg-sage-light rounded-full flex items-center justify-center mx-auto mb-4">
                <svg class="w-8 h-8 text-sage" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                </svg>
            </div>
            <h3 class="font-serif text-2xl font-medium text-earth mb-3">Thank You</h3>
            <p class="text-gray-600 text-sm mb-6 leading-relaxed">Your response has been received. We're grateful for your presence in our celebration.</p>
            <button onclick="closeModal()" class="bg-sage text-white px-6 py-2 rounded-xl hover:bg-sage/90 transition-colors text-sm">
                Close
            </button>
        </div>
    </div>

<script>
    const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbyTq_HxSYSDtZ72QEmSZX-KllalM2fgzSpUpPbOEdpZZYjdym913qD-OXlMsVhY1xhD/exec';

    // Show/hide sections based on attendance
    document.querySelectorAll('input[name="attendance"]').forEach(radio => {
        radio.addEventListener('change', function() {
            const guestSection = document.getElementById('guestSection');
            
            if (this.value === 'yes') {
                guestSection.classList.remove('hidden');
            } else {
                guestSection.classList.add('hidden');
            }
        });
    });

    // Handle form submission (The FIX is in this block)
    document.getElementById('rsvpForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        // 1. Get the form data correctly using FormData
        const formData = new FormData(this);
        const params = new URLSearchParams(formData);

        // 2. Use fetch to send the data to Google Apps Script
        fetch(SCRIPT_URL, {
            method: 'POST',
            body: params, // Send the URL-encoded data
            mode: 'no-cors' // Crucial for cross-origin communication with Apps Script
        })
        .then(() => {
            // Assume success and show the modal
            document.getElementById('successModal').classList.remove('hidden');
            document.getElementById('successModal').classList.add('flex');
            
            // 3. Reset form and hide guest section
            this.reset();
            document.getElementById('guestSection').classList.add('hidden');
        })
        .catch(error => {
            // Handle network errors or incorrect URL issues
            console.error('Submission Error:', error);
            alert('An error occurred. Please check your internet connection and the deployment URL.');
        });
    });



    function closeModal() {
        document.getElementById('successModal').classList.add('hidden');
        document.getElementById('successModal').classList.remove('flex');
    }

    // Close modal when clicking outside
    document.getElementById('successModal').addEventListener('click', function(e) {
        if (e.target === this) {
            closeModal();
        }
    });

    // Add staggered fade-in animation and size the header picture frame to match the header width
    document.addEventListener('DOMContentLoaded', function() {
        const elements = document.querySelectorAll('.fade-in');
        elements.forEach((el, index) => {
            el.style.animationDelay = `${index * 0.1}s`;
        });

        function resizeFrame() {
            const h1 = document.querySelector('h1.font-serif');
            const frame = document.getElementById('pictureFrame');
            const placeholder = document.getElementById('placeholderFrame');
            if (!h1 || !frame) return;

            // Measure header text width and clamp to sensible min/max
            const headerWidth = h1.offsetWidth;
            const container = document.querySelector('.container') || document.body;
            const maxAllowed = Math.min(container.offsetWidth - 48, 900);
            const minAllowed = 140;
            const targetWidth = Math.max(minAllowed, Math.min(headerWidth, maxAllowed));

            frame.style.width = targetWidth + 'px';
            // Set a landscape aspect ratio (adjust 0.32 to taste)
            frame.style.height = Math.round(targetWidth * 0.32) + 'px';

            if (placeholder) {
                placeholder.style.width = frame.style.width;
                placeholder.style.height = frame.style.height;
            }
        }

        // initial size and on resize (debounced)
        resizeFrame();
        let resizeTimer;
        window.addEventListener('resize', function() { clearTimeout(resizeTimer); resizeTimer = setTimeout(resizeFrame, 80); });
    });
</script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9772834cb740bc3f',t:'MTc1NjUzODI5My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>













